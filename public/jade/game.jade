- each row in this.map().tiles()
    .row
        - each tile in row
            .tile(model='Tile', modelid=tile.id(), player=tile.player() && tile.player().color(), class=[tile.selected() ? 'selected' : ''])
                .units
                    - each unit in tile.units()
                        .unit(model='Unit', modelid=unit.id(), selecting=unit.selecting(), selected=unit.selected())
                            .unit-icon
                - if (tile.selected())
                    .actions
                        .action.produce(action="produce") P
                        .action.defend(action="defend") D
.hud
    .minimap
    .unit-summary
    .commands